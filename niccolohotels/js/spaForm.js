!function i(o,r,c){function m(a,e){if(!r[a]){if(!o[a]){var n="function"==typeof require&&require;if(!e&&n)return n(a,!0);if(l)return l(a,!0);throw new Error("Cannot find module '"+a+"'")}var t=r[a]={exports:{}};o[a][0].call(t.exports,function(e){var n=o[a][1][e];return m(n||e)},t,t.exports,i,o,r,c)}return r[a].exports}for(var l="function"==typeof require&&require,e=0;e<c.length;e++)m(c[e]);return m}({1:[function(e,n,a){"use strict";$(function(){var a=$(".page-dining-form"),t=$(".page-thank-you"),i=$("#form-brg")||a.find(".form-container form");t.hide();var o={theme:"niccolo-form",width:"100%",minimumResultsForSearch:1/0};a.find(".select2-control").each(function(){var e=$(this),n=Object.assign(o);e.select2(n)});var r={theme:"niccolo-form-phone-code",width:"100%",minimumResultsForSearch:1/0,templateSelection:function(e){if(e.element)return e.element.getAttribute("value")}};function n(){i.find(".btn-solid-primary").addClass("disabled");var e={HotelBookSpaPageId:parseInt(i.find("[name='HotelBookSpaPageId']").val()),SourceFrom:i.find("[name='SourceFrom']").val(),HotelName:i.find("[name='HotelName']").val(),DesiredTreatment:"Spa",Date:globalFunction.convertDateInDataFormat(i.find("[name='Date']").val()),Time:i.find("[name='Time']").val(),Title:i.find('[name="Title"]').val(),FirstName:i.find('[name="FirstName"]').val(),Surname:i.find('[name="Surname"]').val(),NiccoloDiscoveryMemberNo:i.find('[name="NiccoloDiscoveryMemberNo"]').val(),Company:"",HaveEmail:i.find('[name="HaveEmail"]').is(":checked"),Email:i.find('[name="Email"]').val(),HavePhoneNumber:i.find('[name="HavePhoneNumber"]').is(":checked"),PhoneCode:i.find('[name="PhoneCode"]').val(),PhoneNumber:i.find('[name="PhoneNumber"]').val(),HaveWeChatId:i.find('[name="HaveWeChatId"]').is(":checked"),WeChatId:i.find('[name="WeChatId"]').val(),SpecialRequest:i.find('[name="SpecialRequest"]').val(),IsAgree:i.find('[name="IsAgree"]').is(":checked")};$(".form-item .error").remove();var n=globalConfig.apiPath+"experience/bookspa";axios.post(n,e).then(function(e){var n=e.data;if(n.isSuccess)window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"BookNowSubmit_RBE",BookNowItem:$(".experience-title").text(),BookNowItemType:"Spa"}),a.hide(),t.show();else{n.message;n.validationErrors.forEach(function(e){var n=e.key;$('[name="'.concat(n,'"]')).parents(".form-item").append('<div class="error">'.concat(e.message,"</div>"))})}}).catch(function(e){console.log("err: ",e),lightbox.init(e)}).then(function(){i.find(".btn-solid-primary").removeClass("disabled")})}a.find(".select3-control").each(function(){var e=$(this),n=Object.assign(r);e.select2(n)}),a.find(".datepicker-control").each(function(){var e=$(this),n=new Date,a=moment(n).add(1,"y");e.val(""),e.daterangepicker({singleDatePicker:!0,autoApply:!0,minDate:n,maxDate:a})}),tippy(".tippy",{theme:"light",allowHTML:!0,placement:"bottom",content:function(e){var n=e.getAttribute("data-template");return document.getElementById(n).innerHTML}}),i.on("submit",function(e){e.preventDefault()}),console.log("recaptcha"),window.captchaOnSubmit=function(e){n()}})},{}]},{},[1]);